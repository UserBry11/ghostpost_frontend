(this.webpackJsonpghostpost_spa=this.webpackJsonpghostpost_spa||[]).push([[0],{22:function(e,t,a){e.exports=a(34)},27:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(18),s=a.n(o),r=(a(27),a(6)),c=a(7),i=a(8),m=a(9),u=a(11),p=a(5),d=(a(28),"http://localhost:8000/api/"),h=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={datas:[],popularData:[],switchA:!1,switchB:!0,switchR:!1,switchP:!1},e.allItemsButton=function(){e.setState({switchA:!e.state.switchA})},e.boastOnlyButton=function(){e.setState({switchB:!e.state.switchB})},e.roastsOnlyButton=function(){e.setState({switchR:!e.state.switchR})},e.getPopularItems=function(){fetch(d+"boastroast/popular/").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({popularData:t})})).catch((function(e){return console.log("Error: ",e)}))},e.handleUpvote=function(t){return function(){e.getPopularItems(),fetch(d+"boastroast/upvote/?id="+String(t)).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({datas:t})})).catch((function(e){return console.log(e)})),e.getPopularItems()}},e.handleDownvote=function(t){return function(){e.getPopularItems(),fetch(d+"boastroast/downvote/?id="+String(t)).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({datas:t})})).catch((function(e){return console.log(e)})),e.getPopularItems()}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(d+"boastroast/").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({datas:t})})).catch((function(e){console.log("Error: ",e)})),this.getPopularItems()}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossorigin:"anonymous"}),l.a.createElement("div",{className:"container"},l.a.createElement("header",{className:"row p-3 mb-2 bg-light shadow rounded text-center"},l.a.createElement("div",{className:"col align-self-end"},l.a.createElement(u.b,{to:"/post",className:"post"},l.a.createElement("button",{className:"btn btn-info btn-lg shadow"},"Create Post"))),l.a.createElement("div",{className:"col"},l.a.createElement("h1",null,"Hello World, I'm Ghostpost!"),l.a.createElement("h3",null,"powered by React & Django!"),l.a.createElement("div",null,l.a.createElement("strong",null,"Client-side: "),"React.js"),l.a.createElement("div",null,l.a.createElement("strong",null,"Server-side: "),"Django-Rest-Framework"),l.a.createElement("div",null,"Requests sent to: ",d)),l.a.createElement("div",{className:"col align-self-end"},l.a.createElement("h4",null,"Developer: Bryan Fernandez"))),l.a.createElement("div",{className:"row p-3 mb-2 bg-light shadow rounded shadow rounded"},l.a.createElement("section",{className:"all col-sm text-center"},this.state.switchA?l.a.createElement("div",null,l.a.createElement("button",{onClick:this.allItemsButton},"all Posts!!"),l.a.createElement("h3",null,"Click to Expand!")):l.a.createElement("div",{className:"shadow"},l.a.createElement("h3",null,"All items"),this.state.datas.map((function(t){return l.a.createElement("p",{className:"card"},l.a.createElement("div",{className:"card-header bg-dark text-white"},l.a.createElement("strong",null,"title: "),t.title),l.a.createElement("ul",{key:t.id,className:"list-group shadow"},l.a.createElement("li",{className:"list-group-item list-group-item-secondary"},"id: ",t.id),l.a.createElement("li",{className:"list-group-item list-group-item-primary"},t.boolean?"Boast :^D":"Roast :^("),l.a.createElement("li",{className:"list-group-item list-group-item-secondary"},"Content: ",t.content),l.a.createElement("li",{className:"list-group-item list-group-item-danger"},l.a.createElement("button",{onClick:e.handleUpvote(t.id),className:"btn btn-primary shadow"},"Upvote"),l.a.createElement("button",{onClick:e.handleDownvote(t.id),className:"btn btn-danger shadow"},"Downvote")),l.a.createElement("li",{className:"list-group-item list-group-item-primary"},"Upvotes: ",t.upvotes),l.a.createElement("li",{className:"list-group-item list-group-item-secondary"},"Downvotes: ",t.downvotes),l.a.createElement("li",{className:"list-group-item list-group-item-info"},"Post-Date: ",t.post_date)))})))),l.a.createElement("section",{className:"boasts col-sm text-center"},this.state.switchB?l.a.createElement("div",null,l.a.createElement("button",{onClick:this.boastOnlyButton},"for BOASTS :^D"),l.a.createElement("h3",null,":^D")):l.a.createElement("div",{className:"shadow"},l.a.createElement("button",{onClick:this.boastOnlyButton},"clear BOASTS :^D"),l.a.createElement("h3",null,"Boasts"),this.state.datas.filter((function(e){return!0===e.boolean})).map((function(t){return l.a.createElement("p",{className:"card"},l.a.createElement("div",{className:"card-header bg-dark text-white"},l.a.createElement("strong",null,"title: "),t.title),l.a.createElement("ul",{key:t.id,className:"list-group shadow"},l.a.createElement("li",{className:"list-group-item list-group-item-secondary"},"id: ",t.id),l.a.createElement("li",{className:"list-group-item list-group-item-primary"},t.boolean?"Boast :^D":"Roast :^("),l.a.createElement("li",{className:"list-group-item list-group-item-secondary"},"Content: ",t.content),l.a.createElement("li",{className:"list-group-item list-group-item-danger"},l.a.createElement("button",{onClick:e.handleUpvote(t.id),className:"btn btn-primary shadow"},"Upvote"),l.a.createElement("button",{onClick:e.handleDownvote(t.id),className:"btn btn-danger shadow"},"Downvote")),l.a.createElement("li",{className:"list-group-item list-group-item-primary"},"Upvotes: ",t.upvotes),l.a.createElement("li",{className:"list-group-item list-group-item-secondary"},"Downvotes: ",t.downvotes),l.a.createElement("li",{className:"list-group-item list-group-item-success"},"Post-Date: ",t.post_date)))})))),l.a.createElement("section",{className:"roasts col-sm text-center"},this.state.switchR?l.a.createElement("div",{className:"shadow"},l.a.createElement("button",{onClick:this.roastsOnlyButton},"clear ROASTS :^("),l.a.createElement("h3",null,"Roasts"),this.state.datas.filter((function(e){return!1===e.boolean})).map((function(t){return l.a.createElement("p",{className:"card"},l.a.createElement("div",{className:"card-header bg-dark text-white"},l.a.createElement("strong",null,"title: "),t.title),l.a.createElement("ul",{key:t.id,className:"list-group shadow"},l.a.createElement("li",{className:"list-group-item list-group-item-secondary"},"id: ",t.id),l.a.createElement("li",{className:"list-group-item list-group-item-primary"},t.boolean?"Boast :^D":"Roast :^("),l.a.createElement("li",{className:"list-group-item list-group-item-secondary"},"Content: ",t.content),l.a.createElement("li",{className:"list-group-item list-group-item-danger"},l.a.createElement("button",{onClick:e.handleUpvote(t.id),className:"btn btn-primary shadow"},"Upvote"),l.a.createElement("button",{onClick:e.handleDownvote(t.id),className:"btn btn-danger shadow"},"Downvote")),l.a.createElement("li",{className:"list-group-item list-group-item-primary"},"Upvotes: ",t.upvotes),l.a.createElement("li",{className:"list-group-item list-group-item-secondary"},"Downvotes: ",t.downvotes),l.a.createElement("li",{className:"list-group-item list-group-item-success"},"Post-Date: ",t.post_date)))}))):l.a.createElement("div",null,l.a.createElement("button",{onClick:this.roastsOnlyButton},"for ROASTS :^("),l.a.createElement("h3",null,":^("))),l.a.createElement(g,{popularItemsButton:this.getPopularItems,switchP:this.state.switchP,popularData:this.state.popularData,handleUpvote:this.handleUpvote,handleDownvote:this.handleDownvote}))))}}]),a}(n.Component),g=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("section",{className:"popular col-sm text-center"},this.props.switchP?l.a.createElement("div",null,l.a.createElement("button",{onClick:this.props.popularItemsButton},"for Popular items !!"),l.a.createElement("h3",null,"Populate!")):l.a.createElement("div",{className:"shadow"},l.a.createElement("h3",null,"Popular feed"),this.props.popularData.map((function(e){return l.a.createElement("p",{className:"card"},l.a.createElement("div",{className:"card-header bg-dark text-white"},l.a.createElement("strong",null,"title: "),e.title),l.a.createElement("ul",{key:e.id,className:"list-group shadow"},l.a.createElement("li",{className:"list-group-item list-group-item-secondary"},"id: ",e.id),l.a.createElement("li",{className:"list-group-item list-group-item-primary"},e.boolean?"Boast :^D":"Roast :^("),l.a.createElement("li",{className:"list-group-item list-group-item-secondary"},"Content: ",e.content),l.a.createElement("li",{className:"list-group-item list-group-item-primary"},"Upvotes: ",e.upvotes),l.a.createElement("li",{className:"list-group-item list-group-item-secondary"},"Downvotes: ",e.downvotes),l.a.createElement("li",{className:"list-group-item list-group-item-success"},"Post-Date: ",e.post_date)))}))))}}]),a}(n.Component),E=h,b=a(21),v=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={title:"",boolean:!0,content:""},e.handleChange=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.handleBooleanChange=function(){e.setState({boolean:!e.state.boolean})},e.postPostButton=function(t){t.preventDefault();var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state)};fetch("http://localhost:8000/api/boastroast/",a).then((function(e){return e.json()})).then((function(t){console.log(t),e.props.history.push("/")})).catch((function(e){console.log("Error: ",e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossorigin:"anonymous"}),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header shadow"},l.a.createElement("h1",{className:"card-title"},"Make a Post!"),l.a.createElement(u.b,{to:"/"},l.a.createElement("button",{type:"button",className:"btn btn-outline-info btn-sm"},"Back to Home"))),l.a.createElement("div",{className:"card-body shadow"},l.a.createElement("form",{onSubmit:this.postPostButton},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"id_title",className:"col-sm-2 col-form-label"},"Title:"),l.a.createElement("div",{className:"col-auto"},l.a.createElement("input",{type:"text",className:"form-control shadow",id:"inputEmail3",placeholder:"30 chars or less",name:"title",maxLength:"30",onChange:this.handleChange,required:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputPassword3",className:"col-sm-2 col-form-label"},"Content:"),l.a.createElement("div",{className:"col-auto"},l.a.createElement("textarea",{className:"form-control shadow",id:"inputPassword3 id_content",placeholder:"Content",cols:"40",rows:"10",name:"content",onChange:this.handleChange,required:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-sm-2"},"Boast or Roast:"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{className:"form-check-input shadow",type:"checkbox",id:"gridCheck1 id_boolean",name:"boolean",onChange:this.handleBooleanChange}),l.a.createElement("label",{className:"form-check-label",htmlFor:"gridCheck1"},"Check to Roast"),l.a.createElement("div",null,l.a.createElement("small",null,"(Default: Boast)"))))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("button",{type:"submit",className:"shadow btn btn-primary btn-lg"},"Post It!")))))))}}]),a}(n.Component),f=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(u.a,null,l.a.createElement(p.c,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(e){return l.a.createElement(E,null)}}),l.a.createElement(p.a,{path:"/post",render:function(e){return l.a.createElement(v,e)}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.9ca39532.chunk.js.map